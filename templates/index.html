{% extends "layout.html" %}

{% block title %}
    Home Page
{% endblock %}

{% block main %}
    <h1>Welcome to Mapz!</h1>
    <h3>Would you like to know about some places near your area? Click below to find out!</h3><br>
    <div class = "container">
        <div class = "row">
            <div class = "col-sm-3">
                <h4>Foods</h4>
                <ul name="food">

                </ul>
            </div>
            <div class = "col-sm-3">
                <h4>Desserts</h4>
                <ul name="dessert">

                </ul>
            </div>
            <div class = "col-sm-3">
                <h4>Gas</h4>
                <ul name="gas">

                </ul>
            </div>
            <div class = "col-sm-3">
                <h4>Hotels</h4>
                <ul name="hotel">

                </ul>
            </div>
        </div>
    </div><br>
    <button class="btn btn-primary" id="myBtn">Click for Information!</button>

    <form action="/route" method="post" name="myForm">
        <br><h2>Start</h2>
        <div class="form-group">
            <input class="form-check-input" name="current" value="" type="checkbox" id="location1">
            <label class="form-check-label">Use Current Location?</label><br>
            <input autofocus class="form-control" name="start_street" placeholder="Street" type="text">
            <input class="form-control" name="start_city" placeholder="City" type="text">
            <input class="form-control" name="start_state" placeholder="State" type="text">
        </div>
        <h2>End</h2>
        <div class = "form-group">
            <input class="form-control" name="end_street" placeholder="Street" type="text">
            <input class="form-control" name="end_city" placeholder="City" type="text">
            <input class="form-control" name="end_state" placeholder="State" type="text">
        </div>
        <button class="btn btn-primary" type="submit">Route!</button>
    </form>
    <script>
        $(document).ready(function(){
        document.getElementById("myBtn").addEventListener("click", function(event){
            alert("here")
            if (navigator.geolocation){
                navigator.geolocation.getCurrentPosition(function(position){
                    alert("here2")
                    var latitude = position.coords.latitude;
                    var longitude = position.coords.longitude;
                    $.get("/display?location=" + latitude + "," + longitude, function(result) {
                        alert(result["food"])
                        document.getElementById("food").innerHTML = <li>result["food"]</li>;
                    });
                });
            }
        });
    });
    </script>
{% endblock %}


